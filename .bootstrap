#!/usr/bin/env bash

REPO_URL=git@github.com:murar8/dotfiles.git
REPO_DIR=$HOME/.dotfiles

set -e

if ! command -v git >/dev/null; then
    echo "Error: could not locate git in your path."
    exit 1
fi

if [ -d $REPO_DIR ]; then
    echo "Error: it looks like the $REPO_DIR folder is already present."
    exit 1
fi

git clone --bare $REPO_URL $REPO_DIR

dot() {
    git --git-dir=$REPO_DIR/ --work-tree=$HOME $@
}

dot config status.showUntrackedFiles no
dot checkout
